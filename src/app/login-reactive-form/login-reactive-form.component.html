<h1>Login</h1>


<form [formGroup]="loginForm" (ngSubmit)="onLogin()">
    <div class="form-group">
        <label for="username">Username</label>
        <input (change)=handleSubmitState() type="text" name="username" id="username" class="form-control" formControlName="username">
        <span *ngIf="username && username.invalid && isSubmitted">
            Username Invalid
        </span>
        <!-- <span *ngIf="username?.errors?.required">
            Username Required
        </span> -->
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input (change)=handleSubmitState() type="password" name="password" id="password" class="form-control" formControlName="password">
        <span *ngIf="password && password.invalid && isSubmitted">
            Password Required More Than 6 Characters
        </span>
    </div>
    <div class="form-group">
    <button type="submit" class="btn btn-success">
        Login
    </button>
    </div>

</form>
<button class="btn btn-success" (click)="register()" [disabled]="!loginForm.valid">Register</button>
<div class="alert alert-success" *ngIf="currentUser.isLogin">
    Successfully Login. Hello {{currentUser.username}}
</div>
<div *ngIf="!currentUser.isLogin">
    {{ msg }}
</div>